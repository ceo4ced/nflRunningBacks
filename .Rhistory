#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box(width = '100%', height = '500px')
fulldatatable
graph.data <- readRDS("q2.model3.coeff.rds")
#k <- knitr::kable(graph.data)
fulldatatable = kable(graph.data) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = F)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( height = '150px')
fulldatatable
graph.data <- readRDS("q2.model3.coeff.rds")
#k <- knitr::kable(graph.data)
fulldatatable = kable(graph.data) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = F)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '150px')
fulldatatable
graph.data <- readRDS("q2.model3.coeff.rds")
#k <- knitr::kable(graph.data)
fulldatatable = kable(graph.data) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = T)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '150px')
fulldatatable
graph.data <- readRDS("q2.model3.coeff.rds")
#k <- knitr::kable(graph.data)
fulldatatable = kable(graph.data) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = T)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '100%')
fulldatatable
s <- readRDS("princomp.table.rds")
k <- knitr::kable(s)
fulldatatable = kable(k) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = T)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '100%')
s <- readRDS("princomp.table.rds")
k <- knitr::kable(s)
fulldatatable = kable(s) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = T)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '100%')
fulldatatable
s <- readRDS("princomp.table.rds")
k <- knitr::kable(s)
fulldatatable = kable(s) %>%
kable_styling(bootstrap_options = c('striped','hover'), font_size = 14,full_width = T)  %>%
#column_spec(c(1:39),color='black',background = '#7ca0ba') %>%
row_spec(0,background = '#4d9cb3',bold = T,color = 'black') %>%
scroll_box( width='100%',height = '25%')
fulldatatable
game.data <- readRDS("~/Dropbox/STOR320/Project/data/rds/games.rds")
library(corrplot)
fun = game.data %>%
select(assists,field_goals_pct,three_points_pct,two_points_pct,free_throws_pct,rebounds,turnovers,steals,blocks,personal_fouls,fast_break_pts,second_chance_pts,points_off_turnovers) %>%
drop_na()
fun = game.data[,names(game.data %in% colswanted)] %>%
select(assists,field_goals_pct,three_points_pct,two_points_pct,free_throws_pct,rebounds,turnovers,steals,blocks,personal_fouls,fast_break_pts,second_chance_pts,points_off_turnovers) %>%
drop_na()
game.data <- readRDS("~/Dropbox/STOR320/Project/data/rds/games.rds")
colswanted <- c("h_field_goals_pct", "h_three_points_pct",
"h_two_points_pct",   "h_free_throws_pct",
"h_fast_break_pts", "h_second_chance_pts",
"a_field_goals_pct", "a_three_points_pct",
"a_two_points_pct", "a_free_throws_pct",
"A_fast_break_pts",  "a_second_chance_pts",
"h_offensive_rebounds", "h_defensive_rebounds" ,
"h_rebounds", "h_team_rebounds",
"A_offensive_rebounds", "a_defensive_rebounds",
"a_rebounds",  "a_team_rebounds","h_blocked_att",
"h_blocks", "a_blocked_att",  "a_blocks","h_turnovers",
"h_steals", "h_assists_turnover_ratio", "h_team_turnovers",
"h_points_off_turnovers", "a_turnovers", "a_steals",
"a_team_turnovers", "a_points_off_turnovers","h_assists",
"h_assists_turnover_ratio", "a_assists", "a_assists_turnover_ratio" ,
"h_personal_fouls", "h_ejections", "h_foulouts", "A_personal_fouls",
"a_ejections" , "a_foulouts")
library(corrplot)
fun = game.data[,names(game.data %in% colswanted)] %>%
select(assists,field_goals_pct,three_points_pct,two_points_pct,free_throws_pct,rebounds,turnovers,steals,blocks,personal_fouls,fast_break_pts,second_chance_pts,points_off_turnovers) %>%
drop_na()
library(corrplot)
fun = game.data[,names(game.data %in% colswanted)] %>%
drop_na()
datacore = cor(fun)
corrplot(datacore)
colswanted <- c("h_field_goals_pct", "h_three_points_pct",
"h_two_points_pct",   "h_free_throws_pct",
"h_fast_break_pts", "h_second_chance_pts",
"a_field_goals_pct", "a_three_points_pct",
"a_two_points_pct", "a_free_throws_pct",
"A_fast_break_pts",  "a_second_chance_pts",
"h_offensive_rebounds", "h_defensive_rebounds" ,
"h_rebounds", "h_team_rebounds",
"A_offensive_rebounds", "a_defensive_rebounds",
"a_rebounds",  "a_team_rebounds","h_blocked_att",
"h_blocks", "a_blocked_att",  "a_blocks","h_turnovers",
"h_steals", "a_turnovers", "a_steals")
library(corrplot)
fun = game.data[,names(game.data %in% colswanted)] %>%
drop_na()
datacore = cor(fun)
corrplot(datacore)
cor(datacore)
library(corrplot)
fun = game.data[,names(game.data %in% colswanted)] %>%
drop_na()
fun = game.data[,names(game.data %in% colswanted)] %>%
drop_na()
datacore = cor(fun)
cor(datacore)
p <- c("googleAnalyticsR","shiny")
lapply(p,require,character.only=T)
install.packages("googleAnalyticsR")
p <- c("googleAnalyticsR","shiny")
lapply(p,require,character.only=T)
#library(listviewer)
source('~/Dropbox/Daily Analytics/test/oauth-test.R')
source('~/Dropbox/Daily Analytics/insert.ga.email.R')
CLIENT_URL     <-  'http://dailyanalytics.com/oauthcallback'
runApp('Daily Analytics')
install.packages("listviewer")
runApp('Daily Analytics')
install.packages("testthat")
runApp('Daily Analytics')
install.packages("RQDA")
library(RQDA)
library(RQDA)
library(RQDA)
devtools::install_github("rstudio/chromote")
require(chromote)
b <- ChromoteSession$new()
b$Accessibility$getFullAXTree()
b$Audits$getEncodedResponse()
source('~/.active-rstudio-document', echo=TRUE)
b$stop()
b$Network$responseReceivedExtraInfo()
b$get_session_id()
id <- b$get_session_id()
b$Network$emulateNetworkConditions()
b$Network$emulateNetworkConditions(id)
b$Network$canEmulateNetworkConditions()
b$Network$getResponseBody(id)
b$Network$replayXHR()
b$Network$replayXHR(id)
b <- ChromoteSession$new()
id <- b$get_session_id()
b$Network$replayXHR(id)
b$debug_log()
d <- b$debug_log()
d <- b$Fetch$getResponseBody()
devtools::install_github('rlesur/crrri')
require(cccri)
require(crrri)
chrome <- Chrome$new(bin = pagedown::find_chrome())
install.packages("pagedown")
chrome <- Chrome$new(bin = pagedown::find_chrome())
chrome <- Chrome$new()
b$close()
b$close()
chrome <- Chrome$new()
client<- chrome$connect(callback=function(client){client$inspect()})
Page <- client$Page
Page$navigate(url="http://www.miamiherald.com")
client$Network$Headers
Page$navigate(url="http://www.miamiherald.com")
client$Network$Headers
client$Network$enable()
client$Network$Headers
client$Network$enable()
a <- client$Network$enable()
a
client$Network$Headers
Page$enable()
q <-client$Network$enable()
q
client$Network$dataReceived()
t <- client$Network$dataReceived()
t
t$finally()
client$Network$print()
client$Network$responseReceived()
client$Network$responseReceived()
f <- client$Network$responseReceived()
f
f
f <- client$Network
f$dataReceived()
client$closeTab()
require(chromote)
b <- ChromoteSession$new()
require(chromote)
b <- ChromoteSession$new()
b$Debugger$enable()
b$Page$navigate("https://www.miamiherald.com")
b$Network$enable()
headers <- b$Network$requestWillBeSentExtraInfo()
b$Network$getResponseBody()
warnings()
b <- ChromoteSession$new()
b$Debugger$enable()
b$Page$navigate("https://www.miamiherald.com")
b$Network$enable()
headers <- b$Network$requestWillBeSentExtraInfo()
headers
reqID <- headers$requestId
b$Network$getResponseBody(reqID)
b$Network$webSocketHandshakeResponseReceived()
b$Network$getResponseBody(requestId = reqID)
b$Network$getResponseBody(requestId = reqID)
c <- b$Network
c$continueInterceptedRequest()
c$continueInterceptedRequest(interceptionId)
headers
require(dplyr)
setwd("~/Documents/GitHub/nflRunningBacks")
nfl.data <- read.csv("data/train.csv",stringsAsFactors = FALSE)
data <- nfl.data[,c(12,15,16,19,20,21,25,26,27,28,29,30,31,32,33,34,35,37,44,2,1)]
data.rb <- data[data$Position=="RB",]
data.rb <- data.rb[, c(20,1,15,16,17,18,21,19,3,4,6,2,5,7,8,9,10,11,12,13,14)]
rb.attr <- data.rb[,c(1:6)]
rb.gm.data <- data.rb[,c(1,7:21)]
splitTime <- function(x){
dHour <- as.numeric(substr(x,1,2))
dMin <- as.numeric(substr(x,4,5))
dSec <- as.numeric(substr(x,7,8))
dTime <- 3600*dHour + 60*dMin + dSec
dTime
}
handoffTime <- function(x,y){
ans <- splitTime(x) - splitTime(y)
if(ans<0)  ans <- ans + (24*60*60)
ans
}
View(rb.attr)
View(rb.gm.data)
setwd("~/Documents/GitHub/nflRunningBacks")
nfl.data <- read.csv("data/train.csv",stringsAsFactors = FALSE)
data <- nfl.data[,c(12,15,16,19,20,21,25,26,27,28,29,30,31,32,33,34,35,37,44,2,1,11)]
data.rb <- data[data$Position=="RB",]
data.rb <- data.rb[, c(22,1,15,16,17,18,21,20,19,3,4,6,2,5,7,8,9,10,11,12,13,14)]
rb.attr <- data.rb[,c(1:6)]
rb.gm.data <- data.rb[,c(1,7:22)]
splitTime <- function(x){
dHour <- as.numeric(substr(x,1,2))
dMin <- as.numeric(substr(x,4,5))
dSec <- as.numeric(substr(x,7,8))
dTime <- 3600*dHour + 60*dMin + dSec
dTime
}
handoffTime <- function(x,y){
ans <- splitTime(x) - splitTime(y)
if(ans<0)  ans <- ans + (24*60*60)
ans
}
## calculate delayed handooffs
rb.gm.data$TimeHandoff <- substr(rb.gm.data$TimeHandoff,12,19)
rb.gm.data$TimeSnap<- substr(rb.gm.data$TimeSnap,12,19)
rb.gm.data$handoffTime <- handoffTime(rb.gm.data$TimeHandoff,rb.gm.data$TimeSnap)
rb.gm.data <- rb.gm.data[rb.gm.data$handoffTime>=0,]
## Cleaning - removing N/A's - Will consider something else in the future
rb.gm.data[!is.na(rb.gm.data$DefendersInTheBox),]
rb.gm.data <- rb.gm.data[,-c(15,16)]
agg.data.rb <- rb.gm.data %>%
group_by(PlayId, GameId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
mutate(totalYards = sum(Yards,na.rm = TRUE))
agg.data.rb <- rb.gm.data %>%
group_by(PlayId, GameId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
trsnsmute(totalYards = sum(Yards,na.rm = TRUE))
agg.data.rb <- rb.gm.data %>%
group_by(PlayId, GameId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE))
agg.data.rb <- rb.gm.data %>%
group_by(PlayId, GameId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), numOfInstances = count())
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), numOfInstances = count(PlayId))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), numOfInstances = nrow)
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel,PlayDirection) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,Distance,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,OffenseFormation,OffensePersonnel,DefendersInTheBox,DefensePersonnel) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,FieldPosition,YardLine,DefendersInTheBox,DefensePersonnel) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,DefendersInTheBox,DefensePersonnel) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,DefendersInTheBox) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Quarter,Down,Distance) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
View(agg.data.rb)
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Down,Distance) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Down) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId, Turf,Down) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
View(agg.data.rb)
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Down) %>%
transmute(totalYards = sum(Yards,na.rm = TRUE), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Down) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
mututate(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
mutate(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
require(dplyr)
setwd("~/Documents/GitHub/nflRunningBacks")
nfl.data <- read.csv("data/train.csv",stringsAsFactors = FALSE)
data <- nfl.data[,c(12,15,16,19,20,21,25,26,27,28,29,30,31,32,33,34,35,37,44,2,1,11)]
data.rb <- data[data$Position=="RB",]
data.rb <- data.rb[, c(22,1,15,16,17,18,21,20,19,3,4,6,2,5,7,8,9,10,11,12,13,14)]
rb.attr <- data.rb[,c(1:6)]
rb.gm.data <- data.rb[,c(1,7:22)]
splitTime <- function(x){
dHour <- as.numeric(substr(x,1,2))
dMin <- as.numeric(substr(x,4,5))
dSec <- as.numeric(substr(x,7,8))
dTime <- 3600*dHour + 60*dMin + dSec
dTime
}
handoffTime <- function(x,y){
ans <- splitTime(x) - splitTime(y)
if(ans<0)  ans <- ans + (24*60*60)
ans
}
## calculate delayed handooffs
rb.gm.data$TimeHandoff <- substr(rb.gm.data$TimeHandoff,12,19)
rb.gm.data$TimeSnap<- substr(rb.gm.data$TimeSnap,12,19)
rb.gm.data$handoffTime <- handoffTime(rb.gm.data$TimeHandoff,rb.gm.data$TimeSnap)
rb.gm.data <- rb.gm.data[rb.gm.data$handoffTime>=0,]
## Cleaning - removing N/A's - Will consider something else in the future
rb.gm.data[!is.na(rb.gm.data$DefendersInTheBox),]
rb.gm.data <- rb.gm.data[,-c(15,16)]
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
mutate(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
View(agg.data.rb)
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
transmute_all(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,Quarter,Down) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down) %>%
transmute(totalYards = sum(Yards))
ggplot2::qplot(totalYards,Down,data=agg.data.rb)
ggplot2::ggplot(totalYards,Down,data=agg.data.rb)+geom_histogram()
ggplot2::ggplot(totalYards,Down,data=agg.data.rb)+geom_histogram(data = agg.data.rb)
ggplot2::ggplot(totalYards)+geom_histogram(data = agg.data.rb)
ggplot2::ggplot(data=agg.data.rb)+geom_histogram(aes(totalYards))
require(ggplot2)
ggplot2::ggplot(data=agg.data.rb)+geom_histogram(aes(totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_histogram(aes(totalYards))+facet_grid(.~Down)
ggplot2::ggplot(data=agg.data.rb)+geom_point(aes(totalYards))+facet_grid(.~Down)
ggplot2::ggplot(data=agg.data.rb)+geom_point(aes(totalYards,Down))
ggplot2::ggplot(data=agg.data.rb)+geom_point(aes(Down,totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(Down,totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(Down,totalYards)
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(totalYards,Down))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(Down,totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=totalYards,y=Down))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=totalYards,y=factor(Down)))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=totalYards,y=as.factor(Down)))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=fator(Down),y=totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=factor(Down),y=totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=factor(Down),y=Distance))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=factor(Down),y=avgDistance))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
ggplot2::ggplot(data=agg.data.rb)+geom_boxplot(aes(x=factor(Down),y=avgDistance))
ggplot2::ggplot(data=unique(agg.data.rb))+geom_boxplot(aes(x=factor(Down),y=avgDistance))
ggplot2::ggplot(data=unique(agg.data.rb))+geom_boxplot(aes(x=factor(Down),y=totalYards))
ggplot2::ggplot(data=unique(agg.data.rb))+geom_boxplot(aes(x=factor(avgDefendersInTheBox),y=totalYards))
ggplot2::ggplot(data=agg.data.rb)+geom_histogram(aes(avgDefendersInTheBox))+facet_grid(.~Down)
ggplot2::ggplot(data=unique(agg.data.rb))+geom_point(aes(x=factor(avgDefendersInTheBox),y=totalYards))
ggplot2::ggplot(data=unique(agg.data.rb))+geom_point(aes(x=(avgDefendersInTheBox),y=totalYards))
g + geom_histogram(aes(avgDefendersInTheBox))+facet_grid(.~Down)
g <- ggplot(data=agg.daata.rb)
g + geom_histogram(aes(avgDefendersInTheBox))+facet_grid(.~Down)
g + geom_point(aes(x=(avgDefendersInTheBox),y=totalYards))
g <- ggplot(data=agg.data.rb)
g + geom_histogram(aes(avgDefendersInTheBox))+facet_grid(.~Down)
g + geom_histogram(aes(avgDefendersInTheBox))+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(avgDefendersInTheBox),binwidth=5)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(avgDefendersInTheBox),binwidth=3)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=3)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=100)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=50)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=25)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=10)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=15)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=20)+facet_grid(.~factor(Down))
g + geom_histogram(aes(totalYards, bin=5))
g + geom_histogram(aes(totalYards, bins=5))
g + geom_histogram(aes(totalYards), bins=5)
g + geom_histogram(aes(totalYards), bins=50)
g + geom_histogram(aes(totalYards), bins=20)
g + geom_histogram(aes(totalYards), bins=15)
g + geom_histogram(aes(totalYards), bins=10)
g + geom_histogram(aes(totalYards), bins=15)
g + geom_histogram(aes(totalYards), bins=12)
g + geom_histogram(aes(totalYards), bins=11)
g + geom_histogram(aes(totalYards), bins=11) + facet_grid(.~avgDefendersInTheBox)
g + geom_histogram(aes(totalYards), bins=11) + facet_grid(.~round(avgDefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down,Direction) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down,PlayDirection) %>%
transmute(totalYards = sum(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
g + geom_histogram(aes(totalYards), bins=11) + facet_grid(.~PlayDirection)
g <- ggplot(data=agg.data.rb)
g + geom_histogram(aes(totalYards), bins=11) + facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgDefendersInTheBox),y=totalYards))+facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgDefendersInTheBox),y=totalYards,fill=avgDefendersInTheBox))+facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgDistance),y=totalYards,fill=avgDefendersInTheBox))+facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgDistance),y=totalYards,fill=Down))+facet_grid(.~PlayDirection)
g + geom_histogram(aes(x=(avgDistance),y=totalYards,fill=Down))+facet_grid(.~PlayDirection)
g + geom_histogram(aes(x=(avgDistance),fill=Down))+facet_grid(.~PlayDirection)
g + geom_histogram(aes(x=(avgDistance)))+facet_grid(.~PlayDirection)
# histogram
g + geom_histogram(aes(totalYards),binwidth=20)+facet_grid(Quarter~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=20)+facet_grid(.~factor(Down))
# histogram
g + geom_histogram(aes(totalYards),binwidth=20)+facet_grid(Quarter~factor(Down))
agg.data.rb <- rb.gm.data %>%
group_by(NflId,GameId,Quarter,Down,PlayDirection) %>%
transmute(totalYards = sum(Yards), avgYards = mean(Yards), avgHandOfTime = mean(handoffTime), avgDistance=mean(Distance),avgDefendersInTheBox = mean(DefendersInTheBox))
g <- ggplot(data=agg.data.rb)
g + geom_histogram(aes(x=(avgDistance)))+facet_grid(.~PlayDirection)
g + geom_histogram(aes(x=(avgYards)))+facet_grid(.~PlayDirection)
# histogram
g + geom_histogram(aes(avgYards),binwidth=20)+facet_grid(Quarter~factor(Down))
g + geom_histogram(aes(avgYards), bins=11) + facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgYards),y=avgDefendersInTheBox))+facet_grid(.~PlayDirection)
g + geom_point(aes(x=(avgYards),y=avgDefendersInTheBox))+facet_grid(.~Down)
g + geom_point(aes(y=(avgYards),x=avgDefendersInTheBox))+facet_grid(.~Down)
g + geom_point(aes(y=(avgYards),x=avgDefendersInTheBox))+facet_grid(Quarter.~Down)
g + geom_point(aes(y=(avgYards),x=avgDefendersInTheBox))+facet_grid(Quarter~Down)
g + geom_line(aes(y=(avgYards),x=avgDefendersInTheBox))+facet_grid(Quarter~Down)
g + geom_density(aes(avgYards), bins=11) + facet_grid(.~PlayDirection)
# histogram
g + geom_density(aes(avgYards),binwidth=20)+facet_grid(Quarter~factor(Down))
# histogram
g + geom_density(aes(avgYards))+facet_grid(Quarter~factor(Down))
# histogram
g + geom_boxplot(aes(avgYards))+facet_grid(Quarter~factor(Down))
# histogram
g + geom_boxplot(aes(factor(Down),avgYards))
# histogram
g + geom_boxplot(aes(factor(Down),avgYards)) + facet_grid(.~round(avgDefendersInTheBox))
# histogram
g + geom_boxplot(aes(round(avgDefendersInTheBox),avgYards)) + facet_grid(.~Down)
# histogram
g + geom_boxplot(aes(avgYards)) + facet_grid(.~Down)
# histogram
g + geom_boxplot(aes(round(avgDefendersInTheBox),avgYards)) + facet_grid(.~Down)
g +geom_bar(aes(Down,totalYards))
g +geom_bar(aes(x=Down,y=totalYards))
